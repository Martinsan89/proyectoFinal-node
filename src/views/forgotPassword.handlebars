<div>
    <div>
        <button class="btn" onclick="logout()">LOGIN</button>
    </div>
    <h1>Recuperar contrase単a</h1>
    <div>
        <label for="">Contrase単a nueva</label>
        <input type="password" id="password">
        <button onclick="sendNewPass(event)">Confirmar</button>
    </div>
    <div id="response"></div>
</div>

<style>
    .btn {
    color: black;
    text-decoration: none;
    background-color: white;
    padding: 8px;
    border-radius: 8px;
}
</style>

<script>
    async function logout(req, res) {
    window.location.href = `http://localhost:8080/login`
  }
    async function sendNewPass(event){
        event.preventDefault();
        const mensaje = document.querySelector("#response");
        const password= document.getElementById("password").value;
        
        const body = {
            password,
        };
        const response = await fetch(
            "http://localhost:8080/api/auth/setNewPassword",
            {
            method: "POST",
            body: JSON.stringify(body),
            headers: {
                "Content-Type": "application/json",
            },
            }
        );

        if (response.status === 400) {
            return (mensaje.innerHTML = "<p>Contrase単a ya utilizada</p>");
        }
        if (response.status === 200) {
            return (mensaje.innerHTML = "<p>Contrase単a actualizada</p>");
        }
    }
</script>